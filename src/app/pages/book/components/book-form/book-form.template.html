<div ng-if="vm.showModal" class="modal book-modal">
  <div class="modal-content">
    <h2>{{ vm.editMode ? 'Edit Book' : 'Add Book' }}</h2>
    <form name="bookForm" ng-submit="vm.submitForm()" novalidate>
      <input type="text" ng-model="vm.book.title" placeholder="Title" required ng-minlength="1" ng-maxlength="255" name="title">
      
      <input type="text" ng-model="vm.book.isbn" placeholder="ISBN" required ng-pattern="/^\d{10}(\d{3})?$/" name="isbn">
      
      <input type="text" ng-model="vm.book.imageLink" placeholder="Image Link" name="imageLink" ng-pattern="/^(https?:\/\/)?([a-z\d-]+\.)+[a-z]{2,6}\/?([^\s]*)?$/i">
      
      <input type="date" ng-model="vm.book.publicDate" placeholder="Published Date" required name="publicDate">
      
      <div class="multiselect">
        <multi-select-dropdown items="vm.authors" selected-items="vm.selectedAuthors" default-text="Authors"></multi-select-dropdown>
      </div>
      
      <div class="multiselect">
        <multi-select-dropdown items="vm.genres" selected-items="vm.selectedGenres" default-text="Genre" single-select="true"></multi-select-dropdown>
      </div>
      
      <div class="buttons">
        <button class="close-btn" ng-click="vm.closeModal()" type="button">CLOSE</button>
        <button class="save-btn" type="submit" 
                ng-disabled="vm.isFormInvalid(bookForm)" 
                ng-class="{'disabled-btn': vm.isFormInvalid(bookForm)}">
          {{ vm.editMode ? 'UPDATE' : 'SAVE' }}
        </button>
      </div>
    </form>
  </div>
</div>
